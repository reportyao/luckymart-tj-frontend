# 推广者中心多语言（俄/塔）功能开发计划

**文档版本**: 1.0
**日期**: 2026-02-10
**作者**: Manus AI

## 1. 概述

本文档旨在为 `luckymart-tj-frontend` 项目中的“推广者中心”（市场合伙人）模块制定详细的多语言功能开发与验证计划。目标是确保该模块为塔吉克斯坦本地用户提供完整、准确、符合文化习惯的俄语（ru）和塔吉克语（tg）界面。

## 2. 现状分析

经过对现有代码库的深入分析，我们确认了以下几点：

- **i18n框架已就绪**: 项目已集成 `i18next` 和 `react-i18next`，并配置了 `i18next-browser-languagedetector`，能够自动检测并切换语言。
- **语言支持已配置**: 系统已支持中文（zh）、俄语（ru）、塔吉克语（tg）三种语言。
- **翻译文件已存在**: `src/i18n/locales/` 目录下已包含 `zh.json`, `ru.json`, `tg.json` 文件。
- **推广者中心翻译已完成**: 经过代码扫描和文件比对，`PromoterCenterPage.tsx` 和 `ProfilePage.tsx` 中使用的 **所有43个** `promoter.` 命名空间下的i18n key，均已在三种语言的JSON文件中完成翻译。

**结论**: 推广者中心的多语言翻译工作已基本完成，无需从零开始。当前阶段的核心任务是 **验证翻译质量、补充缺失的通用文案、并确保语言切换功能在所有场景下表现一致**。

## 3. 开发与验证计划

尽管基础翻译已完成，我们仍需执行以下步骤以确保高质量交付。

### 3.1. 翻译质量审查与优化 (人工)

此步骤需要 **精通俄语和塔吉克语的本地化专家** 参与，对 `ru.json` 和 `tg.json` 文件中 `promoter` 和 `common` 命名空间下的所有翻译进行审查。

**审查要点**:
- **准确性**: 翻译是否准确传达了原始含义？
- **流畅性**: 文本是否自然、符合本地语言习惯？
- **文化适配**: 术语（如“市场合伙人”、“佣金”、“打卡”）是否使用了本地用户最容易理解的词汇？
- **UI适配**: 翻译后的文本在UI中是否会因长度问题导致换行、截断或布局错乱？

**待审查的关键术语**: 

| 中文 (zh) | 俄语 (ru) | 塔吉克语 (tg) | 审查建议 |
| :--- | :--- | :--- | :--- |
| 市场合伙人 | Партнёр | Шарик | “Шарик”是否是本地最贴切的说法？ |
| 业绩 | Обзор | Натиҷа | “Обзор”意为“概览”，是否应为“Результаты”？ |
| 物料 | Материалы | Маводҳо | 确认是否为本地常用词 |
| 打卡 | Отметка за день | Қайди имрӯза | 确认是否为本地常用词 |
| 佣金 | Комиссия | Комиссия | 确认是否为本地常用词 |

### 3.2. 补充缺失的通用翻译

在代码分析中发现，`PromoterCenterPage.tsx` 引用了一些 `common` 和 `invite` 命名空间下的文案。虽然这些文案目前已有翻译，但我们需要确保它们在推广者中心的语境下同样适用。

**待确认的通用文案**: 

| Key | 中文 (zh) | 俄语 (ru) | 塔吉克语 (tg) | 确认点 |
| :--- | :--- | :--- | :--- | :--- |
| `common.back` | 返回 | Назад | Бозгашт | 确认 |
| `common.error` | 错误 | Ошибка | Хатогӣ | 确认 |
| `common.user` | 用户 | Пользователь | Корбар | 确认 |
| `invite.codeCopied` | 邀请码已复制... | Код приглашения скопирован | Коди даъват нусхабардорӣ шуд | 确认 |
| `invite.linkCopied` | 邀请链接已复制... | Ссылка скопирована... | Пайванд... нусхабардорӣ шуд | 确认 |

### 3.3. 前端代码微调与验证

1. **语言切换功能验证**: 
   - 在 `ProfilePage` -> `Settings` 中手动切换语言。
   - 验证 `PromoterCenterPage` 是否能正确响应语言变化并重新渲染所有文本。
   - 验证浏览器刷新后是否能保持所选语言。

2. **动态文本格式化**: 
   - **日期/时间**: 确认 `hire_date` 等日期格式是否需要本地化。
   - **数字/货币**: 确认 `formatCurrency` 函数是否能正确处理塔吉克斯坦索莫尼（TJS）的格式。

3. **UI布局检查**: 
   - 在俄语和塔吉克语环境下，检查所有按钮、标签、标题和段落，确保没有因文本过长导致的UI错位或显示不全问题。
   - 特别关注 **Tab标签** 和 **统计卡片** 的显示效果。

## 4. 交付物

1. **更新后的i18n JSON文件**: `ru.json` 和 `tg.json` 的优化版本。
2. **GitHub代码提交**: 包含所有代码微调和翻译更新。
3. **测试报告**: 包含多语言功能验证的截图和结果说明。

## 5. 时间计划

| 阶段 | 任务 | 预计耗时 |
| :--- | :--- | :--- |
| 1 | 翻译质量审查 (人工) | 1-2个工作日 |
| 2 | 前端代码微调与验证 | 0.5个工作日 |
| 3 | 回归测试与部署 | 0.5个工作日 |
| **总计** | | **2-3个工作日** |
